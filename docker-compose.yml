version: '3'
services:    
    hyperf: 
      build: ./larmerce
      container_name: larmerce-hyperf
      restart: unless-stopped
      ports:
        - "9501:9501"
        - "9502:9502"
      volumes:
        # larmerce
        - "./larmerce:/larmerce:cached" # 挂载文件访问慢 :cached            
      command: ["php", "bin/hyperf.php", "start"]        
      privileged: true
      networks:
        - default
    redis:
      image: redis:4.0
      container_name: larmerce-redis
      ports:
        - "6379:6379"
      networks:
        - larmerce-network
networks:
    larmerce-network:
        driver: bridge